#! /usr/bin/env python

import rospy
from geometry_msgs.msg import PolygonStamped
from geometry_msgs.msg import Point32
from std_msgs.msg import Header
import numpy as np

def talker():
    pub = rospy.Publisher('/afm/camera', PolygonStamped, queue_size=10)
    rospy.init_node('camera', anonymous=True)
    rate = rospy.Rate(1) # 30hz
    counter = 0
    while not rospy.is_shutdown():
        points = [Point32(np.random.random(), np.random.random(), np.random.random()) for i in range(4)]
        points.append(points[0])
        h = Header(counter, rospy.get_time(), "0")
        rospy.loginfo(points)
        pub.publish(h, points)
        counter += 1
        rate.sleep()

if __name__ == '__main__':
    try:
        talker()
    except rospy.ROSInterruptException:
        pass